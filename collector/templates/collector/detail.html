{% extends "collector/base.html" %}
{% block title %}Twitter Elections{% endblock %}
{% block content %}
<div class="container">
	{% if error_message %}<p><strong>{{ error_message }}</strong></p>{% endif %}

      <div class="row">
        <div class="col s12">
          <div class="card ">
            <div class="card-content">
              <span class="card-title blue-text">Tweet:</span>
              <p>{{ tweet.content }}</p>
            </div>
          </div>
        </div>
      </div>

    <p class="text">How is the sentiment stated in the previous tweet?</p>
    
	      <ul class="collapsible" data-collapsible="accordion">
		    <li>
		      <div class="collapsible-header green white-text"><i class="material-icons">sentiment_satisfied</i>Positive</div>
		      <div class="collapsible-body "><p>A positive sentiment is ...</p></div>
		    </li>
		    <li>
		      <div class="collapsible-header red white-text"><i class="material-icons">sentiment_dissatisfied</i>Negative</div>
		      <div class="collapsible-body"><p>A negative sentiment is ...</p></div>
		    </li>
		    <li>
		      <div class="collapsible-header grey white-text"><i class="material-icons">sentiment_neutral</i>I can't decide</div>
		      <div class="collapsible-body"><p>...</p></div>
		    </li>
		    <li>
		      <div class="collapsible-header teal white-text"><i class="material-icons">sentiment_very_dissatisfied</i>Irrelevant</div>
		      <div class="collapsible-body"><p>An irrelevant tweet is ...</p></div>
		    </li>
	  	</ul>
            
	<form action="{% url 'collector:vote' tweet.id %}" method="post">
	{% csrf_token %}
	<div class="row">

	{% for choice in tweet.sentiment_set.all %}
	<div class="col s12 m3 ">
		{% if choice.sentiment_text = 'POS'%}

			<button class="btn waves-effect waves-light green" id="choice{{ forloop.counter }}" value="{{ choice.id }}" type="input" name="choice"><i class="material-icons left">sentiment_satisfied</i>Positive</button>
		{% elif choice.sentiment_text = 'NEG'%}
		
			<button class="btn waves-effect waves-light red" id="choice{{ forloop.counter }}" value="{{ choice.id }}" type="input" name="choice"><i class="material-icons left">sentiment_dissatisfied</i>Negative</button>
		{% elif choice.sentiment_text = 'UND'%}
		
			<button class="btn waves-effect waves-light grey" id="choice{{ forloop.counter }}" value="{{ choice.id }}" type="input" name="choice"><i class="material-icons left">sentiment_neutral</i>I can't decide</button>
		{% elif choice.sentiment_text = 'IRR'%}
			<button class="btn waves-effect waves-light" id="choice{{ forloop.counter }}" value="{{ choice.id }}" type="input" name="choice"><i class="material-icons left">sentiment_very_dissatisfied</i>Irrelevant</button>
		{% endif %}
	</div>
	{% endfor %}
	</div>
	</form>
</div>
{% endblock %}